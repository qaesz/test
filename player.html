
<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>flv,mp4,rtmp,html5,m3u8,播放器,视频流,网页视频播放器</title>
		<meta name="keywords" content="flv,mp4,rtmp,html5,m3u8,播放器,视频流,网页视频播放器,dkvplayer,chplayer官网" />
		<meta name="description" content="chplayer支持的视频格式：http协议的flv,mp4,m3u8及rtmp协议 " />
		<meta name="author" content="chplayer" />
		<meta name="copyright" content="http://www.chplayer.com" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<script type="text/javascript" src="http://www.chplayer.com/res/js/jquery.js"></script>
		<script type="text/javascript" src="http://www.chplayer.com/down/v1.0/chplayer/chplayer.js"></script>
	</head>

	<body>
		<div class="video" style="width: 1024px; height: 786px;"></div>
		<script type="text/javascript">
//file:///C:/Users/Administrator/Desktop/player.html?videourl=http://s.bwzybf.com:80/20171025/iM0O3uBp/mp4/iM0O3uBp.mp4
			//获取地址栏里传递过来的视频地址
			function getUrlParam(name) {
				var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
				var r = window.location.search.substr(1).match(reg); //匹配目标参数
				if(r != null) return unescape(r[2]);
				return null; //返回参数值
			}
			var videoUrl =getUrlParam('videourl');
			var hls=getUrlParam('hls');
			var videoObject = {
				poster: 'https://ps.ssl.qhimg.com/sdmt/200_135_100/t01b364bf7873ae24d6.jpg', //封面图片地址
				seek: 120,
				loaded: 'loadedHandler',
				container: 'video',
				variable:'player',
				video: videoUrl
			};
			var player = new chplayer(videoObject);
	function loadedHandler(){
		//播放器加载成功，可以注册监听
		player.addListener('error', errorHandler); //监听视频加载出错
		player.addListener('timeupdate', timeUpdateHandler); //监听播放时间
	}
	function errorHandler(){
		alert('加载失败了');
	}
	function timeUpdateHandler() {
		//console.log('当前播放时间（秒）：' + player.time);
		document.getElementById("playertime").value='当前播放时间（秒）：' + player.time;
	}
			if(hls!=null){
				videoObject['html5m3u8']=true;
			}
			var player=new chplayer(videoObject);
		</script>
		<div id="playertime"></div>
	</body>

</html>